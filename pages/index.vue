<template>
    <div class="main">
        <div class="container">
            <div class="hero_swiper">
                <HeroSwiper />
            </div>
            <div class="sales_wrapper">
                <div class="sale_items">
                    <div class="sale_item">
                        <img src="/dizel.png" alt="">
                        <div class="sale_item_details">
                            <p class="sale_item_name">Gasonline generator</p>
                            <p class="sale_discount">Discount 30%</p>
                        </div>
                    </div>
                    <div class="sale_item">
                        <img src="/dizel.png" alt="">
                        <div class="sale_item_details">
                            <p class="sale_item_name">Gasonline generator</p>
                            <p class="sale_discount">Discount 30%</p>
                        </div>
                    </div>
                    <div class="sale_item">
                        <img src="/dizel.png" alt="">
                        <div class="sale_item_details">
                            <p class="sale_item_name">Gasonline generator</p>
                            <p class="sale_discount">Discount 30%</p>
                        </div>
                    </div>
                    <div class="sale_item">
                        <img src="/dizel.png" alt="">
                        <div class="sale_item_details">
                            <p class="sale_item_name">Gasonline generator</p>
                            <p class="sale_discount">Discount 30%</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="categories_wrapper">
                <div class="title-wrapper">
                    <h2>Shop By categories</h2>
                    <span class="title-wrapper__line"></span>
                </div>
                <div class="categories_container">
                    <div class="categories_item">
                        <p class="category_name">
                            Gazvi generator
                        </p>
                        <img class="category_img" src="/public/gasoline.png" alt="">
                        <NuxtLink to="category/657af00c7633bfd3cdb0276b" class="category_link">
                            <p>View more</p>
                            <svg xmlns="http://www.w3.org/2000/svg" width="31" height="12" viewBox="0 0 31 12" fill="none">
                                <path
                                    d="M29.7729 6.65226H0.703278C0.35749 6.65226 0.078125 6.35893 0.078125 5.99585C0.078125 5.63277 0.35749 5.33944 0.703278 5.33944H28.2627L24.4688 1.35585C24.2246 1.09944 24.2246 0.683032 24.4688 0.426622C24.713 0.170211 25.1096 0.170211 25.3538 0.426622L30.2163 5.53226C30.3961 5.72098 30.4488 6.00201 30.3511 6.24816C30.2535 6.49226 30.0249 6.65226 29.7729 6.65226Z"
                                    fill="#000814" />
                                <path
                                    d="M24.904 11.764C24.7438 11.764 24.5836 11.7005 24.4624 11.5712C24.2182 11.3148 24.2182 10.8984 24.4624 10.642L29.3308 5.5302C29.575 5.27379 29.9716 5.27379 30.2158 5.5302C30.46 5.78661 30.46 6.20302 30.2158 6.45943L25.3474 11.5712C25.2244 11.7005 25.0642 11.764 24.904 11.764Z"
                                    fill="#000814" />
                            </svg>
                        </NuxtLink>
                    </div>
                    <div class="categories_item">
                        <p class="category_name">
                            Inventor
                            generator
                        </p>
                        <img class="category_img" src="/public/invertor.png" alt="">
                        <NuxtLink to="category/657aefcd7633bfd3cdb02768" class="category_link">
                            <p>View more</p>
                            <svg xmlns="http://www.w3.org/2000/svg" width="31" height="12" viewBox="0 0 31 12" fill="none">
                                <path
                                    d="M29.7729 6.65226H0.703278C0.35749 6.65226 0.078125 6.35893 0.078125 5.99585C0.078125 5.63277 0.35749 5.33944 0.703278 5.33944H28.2627L24.4688 1.35585C24.2246 1.09944 24.2246 0.683032 24.4688 0.426622C24.713 0.170211 25.1096 0.170211 25.3538 0.426622L30.2163 5.53226C30.3961 5.72098 30.4488 6.00201 30.3511 6.24816C30.2535 6.49226 30.0249 6.65226 29.7729 6.65226Z"
                                    fill="#000814" />
                                <path
                                    d="M24.904 11.764C24.7438 11.764 24.5836 11.7005 24.4624 11.5712C24.2182 11.3148 24.2182 10.8984 24.4624 10.642L29.3308 5.5302C29.575 5.27379 29.9716 5.27379 30.2158 5.5302C30.46 5.78661 30.46 6.20302 30.2158 6.45943L25.3474 11.5712C25.2244 11.7005 25.0642 11.764 24.904 11.764Z"
                                    fill="#000814" />
                            </svg>
                        </NuxtLink>
                    </div>
                    <div class="categories_item">
                        <p class="category_name">
                            Dizelni generator
                        </p>
                        <img class="category_img" src="/public/dizel.png" alt="">
                        <NuxtLink to="category/657aeff97633bfd3cdb0276a" class="category_link">
                            <p>View more</p>
                            <svg xmlns="http://www.w3.org/2000/svg" width="31" height="12" viewBox="0 0 31 12" fill="none">
                                <path
                                    d="M29.7729 6.65226H0.703278C0.35749 6.65226 0.078125 6.35893 0.078125 5.99585C0.078125 5.63277 0.35749 5.33944 0.703278 5.33944H28.2627L24.4688 1.35585C24.2246 1.09944 24.2246 0.683032 24.4688 0.426622C24.713 0.170211 25.1096 0.170211 25.3538 0.426622L30.2163 5.53226C30.3961 5.72098 30.4488 6.00201 30.3511 6.24816C30.2535 6.49226 30.0249 6.65226 29.7729 6.65226Z"
                                    fill="#000814" />
                                <path
                                    d="M24.904 11.764C24.7438 11.764 24.5836 11.7005 24.4624 11.5712C24.2182 11.3148 24.2182 10.8984 24.4624 10.642L29.3308 5.5302C29.575 5.27379 29.9716 5.27379 30.2158 5.5302C30.46 5.78661 30.46 6.20302 30.2158 6.45943L25.3474 11.5712C25.2244 11.7005 25.0642 11.764 24.904 11.764Z"
                                    fill="#000814" />
                            </svg>
                        </NuxtLink>
                    </div>
                    <div class="categories_item">
                        <p class="category_name">
                            Motokultivator
                        </p>
                        <img class="category_img" src="/public/stabilizer.png" alt="">
                        <NuxtLink to="category/657aef9a7633bfd3cdb02766" class="category_link">
                            <p>View more</p>
                            <svg xmlns="http://www.w3.org/2000/svg" width="31" height="12" viewBox="0 0 31 12" fill="none">
                                <path
                                    d="M29.7729 6.65226H0.703278C0.35749 6.65226 0.078125 6.35893 0.078125 5.99585C0.078125 5.63277 0.35749 5.33944 0.703278 5.33944H28.2627L24.4688 1.35585C24.2246 1.09944 24.2246 0.683032 24.4688 0.426622C24.713 0.170211 25.1096 0.170211 25.3538 0.426622L30.2163 5.53226C30.3961 5.72098 30.4488 6.00201 30.3511 6.24816C30.2535 6.49226 30.0249 6.65226 29.7729 6.65226Z"
                                    fill="#000814" />
                                <path
                                    d="M24.904 11.764C24.7438 11.764 24.5836 11.7005 24.4624 11.5712C24.2182 11.3148 24.2182 10.8984 24.4624 10.642L29.3308 5.5302C29.575 5.27379 29.9716 5.27379 30.2158 5.5302C30.46 5.78661 30.46 6.20302 30.2158 6.45943L25.3474 11.5712C25.2244 11.7005 25.0642 11.764 24.904 11.764Z"
                                    fill="#000814" />
                            </svg>
                        </NuxtLink>
                    </div>
                    <div class="categories_item">
                        <p class="category_name">
                            Karcher stabilizator
                        </p>
                        <img class="category_img" src="/public/karcher.png" alt="">
                        <NuxtLink to="category/657aef6f7633bfd3cdb02765" class="category_link">
                            <p>View more</p>
                            <svg xmlns="http://www.w3.org/2000/svg" width="31" height="12" viewBox="0 0 31 12" fill="none">
                                <path
                                    d="M29.7729 6.65226H0.703278C0.35749 6.65226 0.078125 6.35893 0.078125 5.99585C0.078125 5.63277 0.35749 5.33944 0.703278 5.33944H28.2627L24.4688 1.35585C24.2246 1.09944 24.2246 0.683032 24.4688 0.426622C24.713 0.170211 25.1096 0.170211 25.3538 0.426622L30.2163 5.53226C30.3961 5.72098 30.4488 6.00201 30.3511 6.24816C30.2535 6.49226 30.0249 6.65226 29.7729 6.65226Z"
                                    fill="#000814" />
                                <path
                                    d="M24.904 11.764C24.7438 11.764 24.5836 11.7005 24.4624 11.5712C24.2182 11.3148 24.2182 10.8984 24.4624 10.642L29.3308 5.5302C29.575 5.27379 29.9716 5.27379 30.2158 5.5302C30.46 5.78661 30.46 6.20302 30.2158 6.45943L25.3474 11.5712C25.2244 11.7005 25.0642 11.764 24.904 11.764Z"
                                    fill="#000814" />
                            </svg>
                        </NuxtLink>
                    </div>
                    <div class="categories_item">
                        <p class="category_name">
                            Betona meshalka
                        </p>
                        <img class="category_img" src="/public/geshalka.png" alt="">
                        <NuxtLink to="category/657aefb47633bfd3cdb02767" class="category_link">
                            <p>View more</p>
                            <svg xmlns="http://www.w3.org/2000/svg" width="31" height="12" viewBox="0 0 31 12" fill="none">
                                <path
                                    d="M29.7729 6.65226H0.703278C0.35749 6.65226 0.078125 6.35893 0.078125 5.99585C0.078125 5.63277 0.35749 5.33944 0.703278 5.33944H28.2627L24.4688 1.35585C24.2246 1.09944 24.2246 0.683032 24.4688 0.426622C24.713 0.170211 25.1096 0.170211 25.3538 0.426622L30.2163 5.53226C30.3961 5.72098 30.4488 6.00201 30.3511 6.24816C30.2535 6.49226 30.0249 6.65226 29.7729 6.65226Z"
                                    fill="#000814" />
                                <path
                                    d="M24.904 11.764C24.7438 11.764 24.5836 11.7005 24.4624 11.5712C24.2182 11.3148 24.2182 10.8984 24.4624 10.642L29.3308 5.5302C29.575 5.27379 29.9716 5.27379 30.2158 5.5302C30.46 5.78661 30.46 6.20302 30.2158 6.45943L25.3474 11.5712C25.2244 11.7005 25.0642 11.764 24.904 11.764Z"
                                    fill="#000814" />
                            </svg>
                        </NuxtLink>
                    </div>
                    <div class="categories_item">
                        <p class="category_name">
                            Benzinli generator
                        </p>
                        <img class="category_img" src="/public/gasgenerator.png" alt="">
                        <NuxtLink to="category/657aefe47633bfd3cdb02769" class="category_link">
                            <p>View more</p>
                            <svg xmlns="http://www.w3.org/2000/svg" width="31" height="12" viewBox="0 0 31 12" fill="none">
                                <path
                                    d="M29.7729 6.65226H0.703278C0.35749 6.65226 0.078125 6.35893 0.078125 5.99585C0.078125 5.63277 0.35749 5.33944 0.703278 5.33944H28.2627L24.4688 1.35585C24.2246 1.09944 24.2246 0.683032 24.4688 0.426622C24.713 0.170211 25.1096 0.170211 25.3538 0.426622L30.2163 5.53226C30.3961 5.72098 30.4488 6.00201 30.3511 6.24816C30.2535 6.49226 30.0249 6.65226 29.7729 6.65226Z"
                                    fill="#000814" />
                                <path
                                    d="M24.904 11.764C24.7438 11.764 24.5836 11.7005 24.4624 11.5712C24.2182 11.3148 24.2182 10.8984 24.4624 10.642L29.3308 5.5302C29.575 5.27379 29.9716 5.27379 30.2158 5.5302C30.46 5.78661 30.46 6.20302 30.2158 6.45943L25.3474 11.5712C25.2244 11.7005 25.0642 11.764 24.904 11.764Z"
                                    fill="#000814" />
                            </svg>
                        </NuxtLink>
                    </div>
                </div>
            </div>
            <div class="title-wrapper">
                <h2>Newest Products</h2>
                <span class="title-wrapper__line"></span>
                <NuxtLink class="SeeAll" to="category/657aef6f7633bfd3cdb02765">See all</NuxtLink>
            </div>
            <ul class="cards-list list-category">
                <card v-for="product in productsStore.data.products.reverse().slice(0, 8)" :id="product._id"
                    v-bind:key="product._id" :title="product.product_title" :img="product.product_img"
                    :description="product.product_desc" :views="product.views" :price="product.product_price"
                    :inCart="product.inCart" :inFavorites="product.inFavorites" />
            </ul>
        </div>
        <div>
            <div class="container title-wrapper">
                <h2>Best sellers</h2>
                <span class="title-wrapper__line"></span>
            </div>
            <div class="list-category-wrapper">
                <div class="container">
                    <ul class="cards-list list-category">
                        <card v-for="product in productsStore.data.products.reverse().slice(start, end)" :id="product._id"
                            v-bind:key="product._id" :title="product.product_title" :img="product.product_img"
                            :description="product.product_desc" :views="product.views" :price="product.product_price"
                            :inCart="product.inCart" :inFavorites="product.inFavorites" />
                    </ul>
                    <div class="card-btns-wrapper">
                        <button class="pagination-btn" @click="removeCount" :disabled="start === 0">
                            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none">
                                <g clip-path="url(#clip0_52_1446)">
                                    <path d="M24 48C37.234 48 48 37.234 48 24C48 10.766 37.234 0 24 0C10.766 0 0 10.766 0 24C0 37.234 10.766 48 24 48ZM16.586 22.586L26.586 12.586C26.976 12.196 27.488 12 28 12C28.512 12 29.0241 12.196 29.4141 12.586C30.196 13.368 30.196 14.632 29.4141 15.414L20.828 24L29.414 32.586C30.1959 33.368 30.1959 34.632 29.414 35.414C28.632 36.1959 27.368 36.1959 26.586 35.414L16.586 25.4139C15.804 24.632 15.804 23.368 16.586 22.586Z" fill="#FFD60A"/>
                                </g>
                                <defs>
                                    <clipPath id="clip0_52_1446">
                                    <rect width="48" height="48" fill="white" transform="matrix(-1 0 0 -1 48 48)"/>
                                    </clipPath>
                                </defs>
                            </svg>
                        </button>
                        <button class="pagination-btn" @click="addCount" :disabled="end === 8">
                            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none">
                                <g clip-path="url(#clip0_52_1398)">
                                    <path d="M24 0C10.766 0 0 10.766 0 24C0 37.234 10.766 48 24 48C37.234 48 48 37.234 48 24C48 10.766 37.234 0 24 0ZM31.414 25.414L21.414 35.414C21.024 35.804 20.512 36 20 36C19.488 36 18.9759 35.804 18.5859 35.414C17.804 34.632 17.804 33.368 18.5859 32.586L27.172 24L18.586 15.414C17.8041 14.632 17.8041 13.368 18.586 12.586C19.368 11.8041 20.632 11.8041 21.414 12.586L31.414 22.5861C32.196 23.368 32.196 24.632 31.414 25.414Z" fill="#FFD60A"/>
                                </g>
                                <defs>
                                    <clipPath id="clip0_52_1398">
                                    <rect width="48" height="48" fill="white"/>
                                    </clipPath>
                                </defs>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
            <div class="container title-wrapper">
                <h2>Gasoline generatorlar</h2>
                <span class="title-wrapper__line"></span>
                <NuxtLink class="SeeAll" to="category/657af00c7633bfd3cdb0276b">See all</NuxtLink>
            </div>
            <div class="list-category-wrapper">
                <div class="container">
                    <ul class="cards-list list-category">
                        <card
                            v-for="product in productsStore.data.products.filter(e => e.category._id == '657af00c7633bfd3cdb0276b')"
                            :id="product._id" v-bind:key="product._id" :title="product.product_title"
                            :img="product.product_img" :description="product.product_desc" :views="product.views"
                            :price="product.product_price" :inCart="product.inCart" :inFavorites="product.inFavorites" />
                    </ul>
                </div>
            </div>
            <div class="container title-wrapper">
                <h2>Invertor Generator</h2>
                <span class="title-wrapper__line"></span>
                <NuxtLink class="SeeAll" to="category/657aefcd7633bfd3cdb02768">See all</NuxtLink>
            </div>
            <div class="list-category-wrapper">
                <div class="container">
                    <ul class="cards-list list-category">
                        <card
                            v-for="product in productsStore.data.products.filter(e => e.category._id == '657aefcd7633bfd3cdb02768').slice(0, 4)"
                            :id="product._id" v-bind:key="product._id" :title="product.product_title"
                            :img="product.product_img" :description="product.product_desc" :views="product.views"
                            :price="product.product_price" :inCart="product.inCart" :inFavorites="product.inFavorites" />
                    </ul>
                </div>
            </div>
            <div class="container title-wrapper">
                <h2>Karcher stabilizator</h2>
                <span class="title-wrapper__line"></span>
                <NuxtLink class="SeeAll" to="category/657aef6f7633bfd3cdb02765">See all</NuxtLink>
            </div>
            <div class="list-category-wrapper">
                <div class="container">
                    <ul class="cards-list list-category">
                        <card
                            v-for="product in productsStore.data.products.filter(e => e.category._id == '657aef6f7633bfd3cdb02765').slice(0, 4)"
                            :id="product._id" v-bind:key="product._id" :title="product.product_title"
                            :img="product.product_img" :description="product.product_desc" :views="product.views"
                            :price="product.product_price" :inCart="product.inCart" :inFavorites="product.inFavorites" />
                    </ul>
                </div>
            </div>
            <div class="container title-wrapper">
                <h2>Motokultivator</h2>
                <span class="title-wrapper__line"></span>
                <NuxtLink class="SeeAll" to="category/657aef9a7633bfd3cdb02766">See all</NuxtLink>
            </div>
            <div class="list-category-wrapper">
                <div class="container">
                    <ul class="cards-list list-category">
                        <card
                            v-for="product in productsStore.data.products.filter(e => e.category._id == '657aef9a7633bfd3cdb02766').slice(0, 4)"
                            :id="product._id" v-bind:key="product._id" :title="product.product_title"
                            :img="product.product_img" :description="product.product_desc" :views="product.views"
                            :price="product.product_price" :inCart="product.inCart" :inFavorites="product.inFavorites" />
                    </ul>
                </div>
            </div>
            <div class="container title-wrapper">
                <h2>Betona meshalka</h2>
                <span class="title-wrapper__line"></span>
                <NuxtLink class="SeeAll" to="category/657aefb47633bfd3cdb02767">See all</NuxtLink>
            </div>
            <div class="list-category-wrapper">
                <div class="container">
                    <ul class="cards-list list-category">
                        <card
                            v-for="product in productsStore.data.products.filter(e => e.category._id == '657aefb47633bfd3cdb02767').slice(0, 4)"
                            :id="product._id" v-bind:key="product._id" :title="product.product_title"
                            :img="product.product_img" :description="product.product_desc" :views="product.views"
                            :price="product.product_price" :inCart="product.inCart" :inFavorites="product.inFavorites" />
                    </ul>
                </div>
            </div>
            <div class="container title-wrapper">
                <h2>Benzinli generator</h2>
                <span class="title-wrapper__line"></span>
                <NuxtLink class="SeeAll" to="category/657aefe47633bfd3cdb02769">See all</NuxtLink>
            </div>
            <div class="list-category-wrapper">
                <div class="container">
                    <ul class="cards-list list-category">
                        <card
                            v-for="product in productsStore.data.products.filter(e => e.category._id == '657aefe47633bfd3cdb02769').slice(0, 4)"
                            :id="product._id" v-bind:key="product._id" :title="product.product_title"
                            :img="product.product_img" :description="product.product_desc" :views="product.views"
                            :price="product.product_price" :inCart="product.inCart" :inFavorites="product.inFavorites" />
                    </ul>
                </div>
            </div>
            <div class="container title-wrapper">
                <h2>Dizelni generator</h2>
                <span class="title-wrapper__line"></span>
                <NuxtLink class="SeeAll" to="category/657aeff97633bfd3cdb0276a">See all</NuxtLink>
            </div>
            <div class="list-category-wrapper">
                <div class="container">
                    <ul class="cards-list list-category">
                        <card
                            v-for="product in productsStore.data.products.filter(e => e.category._id == '657aeff97633bfd3cdb0276a').slice(0, 4)"
                            :id="product._id" v-bind:key="product._id" :title="product.product_title"
                            :img="product.product_img" :description="product.product_desc" :views="product.views"
                            :price="product.product_price" :inCart="product.inCart" :inFavorites="product.inFavorites" />
                    </ul>
                </div>
            </div>
        </div>
    </div>
</template>

<script setup>
    import { useCategoriesStore } from '~/store/categories';
    import { useProductsStore } from '~/store/products';

    import card from '../components/cardComponent.vue'

    const categoriesStore = useCategoriesStore();
    categoriesStore.getCategories()

    const productsStore = useProductsStore();
    productsStore.getProducts()

    const start = ref(0)
    const end = ref(4)

    const addCount = () => {
        start.value = start.value + 1
        end.value = end.value + 1
    }

    const removeCount = () => {
        start.value = start.value - 1
        end.value = end.value - 1
    }

</script>

<style></style>